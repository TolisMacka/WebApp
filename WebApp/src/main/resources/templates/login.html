<!DOCTYPE html>

<html xmlns:th="http://thymeleaf.org">

<head>
	<title>WebApp Login</title>
	<link rel="stylesheet" 
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" 
	integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" 
	crossorigin="anonymous">
	<script 
		src="https://code.jquery.com/jquery-3.5.1.slim.min.js" 
		integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" 
		crossorigin="anonymous"></script>
	<script type="text/javascript">
		$(function (){
			$("#createAccount").click(function () {
				window.location.href = "/register";
			})
		});
	</script>
</head>

<body>
	<div class="container">
		<div class="card" style="margin-top: 3%">
			<div class="card-header">
				<h2>Please Log in!</h2>
			</div>
			<div class="card-body">
				<form action="" method="post">
					<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
					<!-- use param.error assuming FormLoginConfigurer#failureUrl contains the query parameter error -->
					<div th:if="${param.error != null}" class="alert alert-danger" role="alert">
						Failed to login.
						<div th:if="${SPRING_SECURITY_LAST_EXCEPTION != null}">
							Reason: <span th:text="${SPRING_SECURITY_LAST_EXCEPTION.message}"></span>
						</div>
					</div>
					<!-- the configured LogoutConfigurer#logoutSuccessUrl is /login?logout and contains the query param logout -->
					<div th:if="${param.logout != null}">
						You have been logged out.
					</div>
					<div class="form-group row">
							<input type="text" class="form-control border-300 bg-light" name="username"  id="username" placeholder="Email" />
					</div>
					<div class="form-group row">
						<input type="password" class="form-control border-300 bg-light" id="password" name="password" placeholder="Password"/>
					</div>
					<div class="form-group row">
						<div class="col-6">
							<button type="submit" class="btn btn-dark btn-block mt-3">Log in</button>
						</div>
						<div class="col-6">
							<button type="button" class="btn btn-dark btn-block mt-3 float-right" id="createAccount">Register</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</body>

</html>